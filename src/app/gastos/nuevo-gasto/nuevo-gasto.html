<div class="gastos-container">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="title-section">
        <h1>Nuevo Gasto</h1>
        <p>Registra tus gastos de manera r√°pida y sencilla</p>
      </div>
      <button class="btn-regresar" routerLink="/gastos">Regresar</button>
    </div>
  </div>

  <!-- Form Section -->
  <div class="form-container">
    <form class="gastos-form">
      <div class="form-grid">
        <!-- Left Column -->
        <div class="form-column">
          <div class="form-group">
            <label for="fecha">Fecha creaci√≥n:</label>
            <div class="input-container">
              <input 
                type="text" 
                id="fecha" 
                name="fecha" 
                [(ngModel)]="selectedDateFormatted"
                (click)="openDatePicker()"
                (keydown)="preventTyping($event)"
                placeholder="dd / mm / aaaa"
                readonly
                required>
              <button type="button" class="date-picker-btn" (click)="openDatePicker()">
                üìÖ
              </button>
            </div>
            
            <!-- Date Picker Modal -->
            <div class="date-picker-modal" *ngIf="showDatePicker" (click)="closeDatePicker()">
              <div class="date-picker-content" (click)="$event.stopPropagation()">
                <div class="date-picker-header">
                  <h3>Seleccionar Fecha</h3>
                  <button type="button" class="close-btn" (click)="closeDatePicker()">√ó</button>
                </div>
                
                <div class="date-picker-body">
                  <div class="month-navigation">
                    <button type="button" (click)="previousMonth()">‚Äπ</button>
                    <span class="current-month">{{ currentMonthName }} {{ currentYear }}</span>
                    <button type="button" (click)="nextMonth()">‚Ä∫</button>
                  </div>
                  
                  <div class="calendar-grid">
                    <div class="day-header" *ngFor="let day of dayHeaders">{{ day }}</div>
                    <div 
                      class="calendar-day" 
                      *ngFor="let day of calendarDays" 
                      [class.disabled]="day.disabled"
                      [class.today]="day.isToday"
                      [class.selected]="day.isSelected"
                      (click)="selectDate(day)">
                      {{ day.day }}
                    </div>
                  </div>
                </div>
                
                <div class="date-picker-footer">
                  <button type="button" class="btn-cancel" (click)="closeDatePicker()">Cancelar</button>
                  <button type="button" class="btn-confirm" (click)="confirmDate()">Confirmar</button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="categoria">Categoria:</label>
            <div class="select-container">
              <select id="categoria" name="categoria">
                <option value="">Seleccione la categoria</option>
                <option value="alimentacion">Alimentaci√≥n</option>
                <option value="transporte">Transporte</option>
                <option value="vivienda">Vivienda</option>
                <option value="salud">Salud</option>
                <option value="educacion">Educaci√≥n</option>
                <option value="entretenimiento">Entretenimiento</option>
                <option value="ropa">Ropa</option>
                <option value="tecnologia">Tecnolog√≠a</option>
                <option value="otros">Otros</option>
              </select>
              <span class="select-arrow">‚ñº</span>
            </div>
          </div>

          <div class="form-group">
            <label for="metodoPago">M√©todo de pago:</label>
            <div class="select-container">
              <select id="metodoPago" name="metodoPago">
                <option value="">Seleccione el m√©todo</option>
                <option value="efectivo">Efectivo</option>
                <option value="tarjeta_credito">Tarjeta de Cr√©dito</option>
                <option value="tarjeta_debito">Tarjeta de D√©bito</option>
                <option value="transferencia">Transferencia</option>
                <option value="otro">Otro</option>
              </select>
              <span class="select-arrow">‚ñº</span>
            </div>
          </div>
        </div>

        <!-- Right Column -->
        <div class="form-column">
          <div class="form-group">
            <label for="monto">Monto:</label>
            <div class="input-container">
              <input type="number" id="monto" name="monto" step="0.01" min="0" placeholder="Escriba un monto">
            </div>
          </div>

          <div class="form-group">
            <label for="descripcion">Descripci√≥n:</label>
            <div class="textarea-container">
              <textarea id="descripcion" name="descripcion" placeholder="Descripci√≥n" rows="4"></textarea>
            </div>
          </div>

          <div class="form-group">
            <label for="notas">Notas adicionales:</label>
            <div class="textarea-container">
              <textarea id="notas" name="notas" placeholder="Detalle adicional" rows="4"></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Save Button -->
      <div class="form-actions">
        <button type="submit" class="btn-guardar">Guardar</button>
      </div>
    </form>
  </div>
</div>
